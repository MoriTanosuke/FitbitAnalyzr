<div id="sleep-graph"></div>
<script type="text/javascript">
var chart1; // globally available
$(document).ready(function() {
      chart1 = new Highcharts.Chart({
         chart: { renderTo: 'sleep-graph', type: 'line' },
         title: { text: 'Sleep over time' },
         xAxis: { categories: ['Duration', 'Asleep'] },
         yAxis: { title: { text: 'Hours' } },
         series: [{
            name: 'Duration',
            data: [<%
sleeps.each do |sleep|
  if not sleep.duration.blank?
  %><%= sleep.duration*10/360000/100.0 %>,<%
  end
end %>]
         },{
            name: 'Asleep',
            data: [<%
sleeps.each do |sleep|
  if not sleep.minutesAsleep.blank?
  %><%= sleep.minutesAsleep*10/6/100.0 %>,<%
  end
end %>]
         }]
      });
   });
</script>
